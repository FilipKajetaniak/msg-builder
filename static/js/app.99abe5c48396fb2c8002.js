webpackJsonp([1],{NHnr:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=t("7+uW"),a={name:"App",data:function(){return{responses:[],newMessage:"",showNewMessage:!1,newMessageType:"",messageToEdit:"",user:"",createMode:!0,generatedHtml:"",copied:!1}},methods:{addMessage:function(){this.responses.push({id:(new Date).getTime().toString()+(Math.floor(9999*Math.random())+1e3),type:this.newMessageType,message:this.newMessage,editMode:!1,isLastMessage:!0,isFirstMessage:!1,signatureEdit:!1}),this.showNewMessage=!1,this.newMessage="",this.addSignatures(),this.updateFirstMessages(),this.$refs.screen.scrollTop=this.$refs.screen.scrollHeight},editMessage:function(e){this.responses.find(function(s){return s.id===e}).message=this.messageToEdit,this.messageToEdit=""},deleteMessage:function(e){this.responses=this.responses.filter(function(s){return s.id!==e}),this.addSignatures(),this.updateFirstMessages()},toggleNewMessageEditor:function(e){var s=this;this.showNewMessage=!0,this.newMessageType=e,this.$nextTick(function(){s.$refs.newMessage.focus()})},addSignatures:function(){var e=this;this.responses.forEach(function(s,t){e.responses[t+1]&&(e.responses[t+1].type!==s.type?s.isLastMessage=!0:s.isLastMessage=!1)});var s=this.responses[this.responses.length-1];s&&(s.isLastMessage=!0)},updateFirstMessages:function(){var e=this;this.responses.forEach(function(s,t){e.responses[t-1]&&(e.responses[t-1].type!==s.type?s.isFirstMessage=!0:s.isFirstMessage=!1),e.responses[0].isFirstMessage=!0})},editResponse:function(e){this.responses.find(function(s){return s.id===e}).editMode=!0,this.messageToEdit=this.responses.find(function(s){return s.id===e}).message,this.responses.map(function(s){if(s.id!==e){var t=s;return t.editMode=!1,t}return s})},generateHtml:function(){var e=this;this.createMode=!1,this.generatedHtml="";var s;this.generatedHtml='<!DOCTYPE html> <html> <head> <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> <title>Konwersacja</title> <style>*{box-sizing: border-box;}.clearfix:after, .messages:after{content: ""; display: table; clear: both; height: 0; visibility: hidden;}body{background-color: #fff; height: 100%; font-family: \'Roboto\', sans-serif;}.screen{background-color: #fff; height: 100%; width: 100%; margin: 0 auto; /* box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2); */}.leftSign{float: left; color: black; margin-right: 70px; padding: 25px 25px 25px 25px; font-size: 33px; margin-bottom: 20px;}.rightSign{float: right; color: black; margin-left: 70px; padding: 25px 25px 25px 25px; font-size: 33px; margin-bottom: 20px;}.conversation{height: 100%; overflow: auto; padding: 25px; padding-bottom: 0;}.messages{/* margin-bottom: 20px; */}.messages--received .message{float: left; background-color: #ddd; border-bottom-left-radius: 5px; border-top-left-radius: 5px; margin-right: 70px; padding: 25px 25px 25px 25px;}.messages--received .message:first-child{border-top-left-radius: 15px;}.messages--received .message:last-child{border-bottom-left-radius: 15px;}.messages--sent .message{float: right; background-color: #1998e6; color: #fff; border-bottom-right-radius: 5px; border-top-right-radius: 5px; margin-left: 70px; padding: 25px 25px 25px 25px;}.messages--sent .message:first-child{border-top-right-radius: 15px;}.messages--sent .message:last-child{border-bottom-right-radius: 15px;}.message{display: inline-block; margin-bottom: 2px; clear: both; padding: 7px 13px; font-size: 38px; border-radius: 15px; line-height: 1.4;}.message--thumb{background-color: transparent !important; padding: 0; margin-top: 5px; margin-bottom: 10px; width: 20px; height: 20px; border-radius: 0px !important;}.text-bar{height: 50px; border-top: 1px solid #ccc;}.text-bar__field{float: left; width: calc(100% - 50px); height: 100%;}.text-bar__field input{width: 100%; height: 100%; padding: 0 20px; border: none; position: relative; vertical-align: middle; font-size: 24px;}.text-bar__thumb{float: left; width: 50px; height: 100%; padding: 10px;}.text-bar__thumb:hover{opacity: .8;}.text-bar__thumb .thumb{width: 100%; height: 100%; cursor: pointer;}.thumb{display: block;}.anim-wiggle{-webkit-animation: wiggle .2s ease infinite; animation: wiggle .2s ease infinite;}.anim-wiggle-2{-webkit-animation: wiggle2 .2s ease infinite; animation: wiggle2 .2s ease infinite;}@-webkit-keyframes wiggle{0%{-webkit-transform: rotateZ(5deg); transform: rotateZ(5deg);}50%{-webkit-transform: rotateZ(-5deg); transform: rotateZ(-5deg);}100%{-webkit-transform: rotateZ(5deg); transform: rotateZ(5deg);}}@keyframes wiggle{0%{-webkit-transform: rotateZ(5deg); transform: rotateZ(5deg);}50%{-webkit-transform: rotateZ(-5deg); transform: rotateZ(-5deg);}100%{-webkit-transform: rotateZ(5deg); transform: rotateZ(5deg);}}@-webkit-keyframes wiggle2{0%{-webkit-transform: rotateZ(10deg); transform: rotateZ(10deg);}50%{-webkit-transform: rotateZ(-10deg); transform: rotateZ(-10deg);}100%{-webkit-transform: rotateZ(10deg); transform: rotateZ(10deg);}}@keyframes wiggle2{0%{-webkit-transform: rotateZ(10deg); transform: rotateZ(10deg);}50%{-webkit-transform: rotateZ(-10deg); transform: rotateZ(-10deg);}100%{-webkit-transform: rotateZ(10deg); transform: rotateZ(10deg);}}.thumb-img, .thumb{background-size: contain; background-repeat: no-repeat;}</style> </head> <body> <div class="screen"> <div class="conversation"> '+(s="",e.responses.forEach(function(t){"response-left"===t.type?(s+=' <div class="messages messages--received"> <div class="message">'+t.message+"</div></div>",t.isLastMessage&&(s+='<div class="leftSign">'+e.user+"</div>")):(s+='<div class="messages messages--sent"> <div class="message">'+t.message+"</div></div>",t.isLastMessage&&(s+='<div class="rightSign">ecologic.io</div>'))}),s)+"</div></div></body> </html>",setTimeout(function(){e.copied=!0},50),setTimeout(function(){e.copyHtml()},200),setTimeout(function(){e.copied=!1},1e3)},reset:function(){this.responses=[],this.generatedHtml="",this.newMessage="",this.newMessageToEdit="",this.user=""},copyHtml:function(){var e=document.createElement("textarea");e.value=this.generatedHtml,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var s=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),document.body.removeChild(e),s&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(s))},saveUser:function(e){this.user=this.$refs["userInput"+e][0].value,this.responses.find(function(s){return s.id===e}).signatureEdit=!1},editUser:function(e){var s=this;this.responses.find(function(s){return s.id===e}).signatureEdit=!0,this.responses.map(function(s){if(s.id!==e){var t=s;return t.signatureEdit=!1,t}return s}),this.$nextTick(function(){s.$refs["userInput"+e][0].focus()})}}},r={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("div",{ref:"screen",attrs:{id:"screen"}},[e._l(e.responses,function(s){return t("div",{key:s.id,staticClass:"row"},[s.editMode?t("div",[t("div",{class:[s.type+"-edit-message",s.type,{"last-message-right":s.isLastMessage&&"response-right"===s.type,"last-message-left":s.isLastMessage&&"response-left"===s.type,"first-message-right":s.isFirstMessage&&"response-right"===s.type&&!s.isLastMessage,"first-message-left":s.isFirstMessage&&"response-left"===s.type&&!s.isLastMessage,"last-first-left":s.isFirstMessage&&"response-left"===s.type&&s.isLastMessage,"last-first-right":s.isFirstMessage&&"response-right"===s.type&&s.isLastMessage}]},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messageToEdit,expression:"messageToEdit"}],staticClass:"new-message-input",domProps:{value:e.messageToEdit},on:{input:function(s){s.target.composing||(e.messageToEdit=s.target.value)}}}),e._v(" "),t("div",{staticClass:"button-wrapper"},[t("button",{staticClass:"add-button",on:{click:function(t){e.editMessage(s.id),s.editMode=!1}}},[e._v("Zapisz")]),e._v(" "),t("button",{staticClass:"cancel-button",on:{click:function(e){s.editMode=!1}}},[e._v("Anuluj")])])])]):t("div",{class:"message-wrapper-"+s.type},[t("div",{directives:[{name:"show",rawName:"v-show",value:"response-right"===s.type,expression:"response.type === 'response-right'"}],staticClass:"message-edit-container"},[t("i",{staticClass:"fas fa-pencil-alt",on:{click:function(t){e.editResponse(s.id)}}}),e._v(" "),t("i",{staticClass:"fas fa-times",on:{click:function(t){e.deleteMessage(s.id)}}})]),e._v(" "),t("div",{class:[s.type,{"last-message-right":s.isLastMessage&&"response-right"===s.type,"last-message-left":s.isLastMessage&&"response-left"===s.type,"first-message-right":s.isFirstMessage&&"response-right"===s.type&&!s.isLastMessage,"first-message-left":s.isFirstMessage&&"response-left"===s.type&&!s.isLastMessage,"last-first-left":s.isFirstMessage&&"response-left"===s.type&&s.isLastMessage,"last-first-right":s.isFirstMessage&&"response-right"===s.type&&s.isLastMessage}]},[e._v("\n            "+e._s(s.message)+"\n          ")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"response-left"===s.type,expression:"response.type === 'response-left'"}],staticClass:"message-edit-container"},[t("i",{staticClass:"fas fa-pencil-alt",on:{click:function(t){e.editResponse(s.id)}}}),e._v(" "),t("i",{staticClass:"fas fa-times",on:{click:function(t){e.deleteMessage(s.id)}}})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!s.signatureEdit&&!s.editMode,expression:"!response.signatureEdit && !response.editMode"}]},[t("div",{directives:[{name:"show",rawName:"v-show",value:s.isLastMessage&&!e.user,expression:"response.isLastMessage && !user"}],class:s.type+"-signature"},["response-left"===s.type?t("span",{staticClass:"add-user",on:{click:function(t){e.editUser(s.id)}}},[e._v("Uzytkownik")]):t("span",[e._v("ecologic.io")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:s.isLastMessage&&e.user,expression:"response.isLastMessage && user"}],class:s.type+"-signature"},[e._v("\n            "+e._s("response-right"===s.type?"ecologic.io":e.user)+"\n          ")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:s.signatureEdit&&!s.editMode,expression:"response.signatureEdit && !response.editMode"}]},[t("input",{ref:"userInput"+s.id,refInFor:!0,staticClass:"user-input response-left-signature",attrs:{type:"text"}}),e._v(" "),t("i",{staticClass:"fas fa-check icon",on:{click:function(t){e.saveUser(s.id)}}}),e._v(" "),t("i",{staticClass:"fas fa-times icon",on:{click:function(e){s.signatureEdit=!1}}})])])}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showNewMessage,expression:"showNewMessage"}],class:["row","message-form",e.newMessageType+"-new-message"]},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],ref:"newMessage",attrs:{id:"new-message-input",placeholder:"Wpisz nową wiadomość"},domProps:{value:e.newMessage},on:{keyup:function(s){if(!("button"in s)&&e._k(s.keyCode,"enter",13,s.key,"Enter"))return null;e.newMessage+="<br>"},input:function(s){s.target.composing||(e.newMessage=s.target.value)}}}),e._v(" "),t("div",{staticClass:"button-wrapper"},[t("button",{staticClass:"add-button",on:{click:e.addMessage}},[e._v("Dodaj")]),e._v(" "),t("button",{staticClass:"cancel-button",on:{click:function(s){e.showNewMessage=!1,e.newMessage=""}}},[e._v("Anuluj")])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.showNewMessage,expression:"!showNewMessage"}],staticClass:"row buttons"},[t("div",{attrs:{id:"left-button"},on:{click:function(s){e.toggleNewMessageEditor("response-left")}}}),e._v(" "),t("div",{attrs:{id:"right-button"},on:{click:function(s){e.toggleNewMessageEditor("response-right")}}})])],2),e._v(" "),t("div",{staticClass:"buttons-div"},[t("button",{class:["generate-button",{generated:e.copied}],on:{click:e.generateHtml}},[e._v(" "+e._s(e.copied?"Skopiowano kod!":"Generuj kod")+" ")]),e._v(" "),t("button",{staticClass:"reset-button",on:{click:e.reset}},[e._v("Resetuj")])])])},staticRenderFns:[]};var n=t("VU/8")(a,r,!1,function(e){t("vk4z")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:n},template:"<App/>"})},vk4z:function(e,s){}},["NHnr"]);
//# sourceMappingURL=app.99abe5c48396fb2c8002.js.map